{
  "$schema": "https://github.com/Azure/data-api-builder/releases/download/v0.8.52/dab.draft.schema.json",
  "data-source": {
    "database-type": "mssql",
    "connection-string": "Server=(localdb)\\mssqllocaldb;Database=dbourgamedev;Trusted_Connection=True;MultipleActiveResultSets=true",
    "options": {
      "set-session-context": false
    }
  },
  "runtime": {
    "rest": {
      "enabled": true,
      "path": "/api"
    },
    "graphql": {
      "enabled": true,
      "path": "/graphql",
      "allow-introspection": true
    },
    "host": {
      "cors": {
        "origins": [],
        "allow-credentials": false
      },
      "authentication": {
        "provider": "StaticWebApps"
      },
      "mode": "development"
    }
  },
  "entities": {
    "StaffTypes": {
      "source": "[dbo].[StaffTypes]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "TeamStaffs": {
          "cardinality": "many",
          "target.entity": "TeamStaffs",
          "source.fields": ["Id"],
          "target.fields": ["StaffTypeId"]
        },
        "FixtureStaffs": {
          "cardinality": "many",
          "target.entity": "FixtureStaffs",
          "source.fields": ["Id"],
          "target.fields": ["StaffTypeId"]
        }
      }
    },
    "StageRulesets": {
      "source": "[dbo].[StageRulesets]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Stages": {
          "cardinality": "many",
          "target.entity": "Stages",
          "source.fields": ["Id"],
          "target.fields": ["StageRulesetId"]
        }
      }
    },
    "Users": {
      "source": "[dbo].[Users]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "TeamStaffs": {
          "cardinality": "many",
          "target.entity": "TeamStaffs",
          "source.fields": ["Id"],
          "target.fields": ["UserId"]
        },
        "TeamPlayers": {
          "cardinality": "many",
          "target.entity": "TeamPlayers",
          "source.fields": ["Id"],
          "target.fields": ["UserId"]
        },
        "Officials": {
          "cardinality": "many",
          "target.entity": "Officials",
          "source.fields": ["Id"],
          "target.fields": ["UserId"]
        },
        "AssociationStaffs": {
          "cardinality": "many",
          "target.entity": "AssociationStaffs",
          "source.fields": ["Id"],
          "target.fields": ["UserId"]
        }
      }
    },
    "VenueTypes": {
      "source": "[dbo].[VenueTypes]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Venues": {
          "cardinality": "many",
          "target.entity": "Venues",
          "source.fields": ["Id"],
          "target.fields": ["VenueTypeId"]
        }
      }
    },
    "Associations": {
      "source": "[dbo].[Associations]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "AssociationStaffs": {
          "cardinality": "many",
          "target.entity": "AssociationStaffs",
          "source.fields": ["Id"],
          "target.fields": ["AssociationId"]
        },
        "Seasons": {
          "cardinality": "many",
          "target.entity": "Seasons",
          "source.fields": ["Id"],
          "target.fields": ["AssociationId"]
        },
        "Teams": {
          "cardinality": "many",
          "target.entity": "Teams",
          "source.fields": ["Id"],
          "target.fields": ["AssociationId"]
        },
        "Competitions": {
          "cardinality": "many",
          "target.entity": "Competitions",
          "source.fields": ["Id"],
          "target.fields": ["AssociationId"]
        },
        "AssociationTeams": {
          "cardinality": "many",
          "target.entity": "AssociationTeams",
          "source.fields": ["Id"],
          "target.fields": ["AssociationId"]
        }
      }
    },
    "Venues": {
      "source": "[dbo].[Venues]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "VenueTypes": {
          "cardinality": "one",
          "target.entity": "VenueTypes",
          "source.fields": ["VenueTypeId"],
          "target.fields": ["Id"]
        },
        "Teams": {
          "cardinality": "many",
          "target.entity": "Teams",
          "source.fields": ["Id"],
          "target.fields": ["VenueId"]
        },
        "Fixtures": {
          "cardinality": "many",
          "target.entity": "Fixtures",
          "source.fields": ["Id"],
          "target.fields": ["VenueId"]
        },
        "TeamFixtureResults": {
          "cardinality": "many",
          "target.entity": "TeamFixtureResults",
          "source.fields": ["Id"],
          "target.fields": ["VenueId"]
        }
      }
    },
    "AssociationStaffs": {
      "source": "[dbo].[AssociationStaffs]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "AssociationStaffTypes": {
          "cardinality": "one",
          "target.entity": "AssociationStaffTypes",
          "source.fields": ["AssociationStaffTypeId"],
          "target.fields": ["Id"]
        },
        "Associations": {
          "cardinality": "one",
          "target.entity": "Associations",
          "source.fields": ["AssociationId"],
          "target.fields": ["Id"]
        },
        "Users": {
          "cardinality": "one",
          "target.entity": "Users",
          "source.fields": ["UserId"],
          "target.fields": ["Id"]
        }
      }
    },
    "Competitions": {
      "source": "[dbo].[Competitions]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "CompetitionSeasons": {
          "cardinality": "many",
          "target.entity": "CompetitionSeasons",
          "source.fields": ["Id"],
          "target.fields": ["CompetitionId"]
        },
        "Associations": {
          "cardinality": "one",
          "target.entity": "Associations",
          "source.fields": ["AssociationId"],
          "target.fields": ["Id"]
        },
        "CompetitionTypes": {
          "cardinality": "one",
          "target.entity": "CompetitionTypes",
          "source.fields": ["CompetitionTypeId"],
          "target.fields": ["Id"]
        }
      }
    },
    "Officials": {
      "source": "[dbo].[Officials]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "FixtureEvents": {
          "cardinality": "many",
          "target.entity": "FixtureEvents",
          "source.fields": ["Id"],
          "target.fields": ["OfficialId"]
        },
        "FixtureOfficialAppointments": {
          "cardinality": "many",
          "target.entity": "FixtureOfficialAppointments",
          "source.fields": ["Id"],
          "target.fields": ["OfficialId"]
        },
        "TeamFixtureResults": {
          "cardinality": "many",
          "target.entity": "TeamFixtureResults",
          "source.fields": ["Id"],
          "target.fields": ["RefereeId"]
        },
        "Users": {
          "cardinality": "one",
          "target.entity": "Users",
          "source.fields": ["UserId"],
          "target.fields": ["Id"]
        }
      }
    },
    "Seasons": {
      "source": "[dbo].[Seasons]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "CompetitionSeasons": {
          "cardinality": "many",
          "target.entity": "CompetitionSeasons",
          "source.fields": ["Id"],
          "target.fields": ["SeasonId"]
        },
        "Associations": {
          "cardinality": "one",
          "target.entity": "Associations",
          "source.fields": ["AssociationId"],
          "target.fields": ["Id"]
        }
      }
    },
    "Teams": {
      "source": "[dbo].[Teams]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "AwayTeamFixtureResults": {
          "cardinality": "many",
          "target.entity": "TeamFixtureResults",
          "source.fields": ["Id"],
          "target.fields": ["AwayId"]
        },
        "HomeTeamFixtureResults": {
          "cardinality": "many",
          "target.entity": "TeamFixtureResults",
          "source.fields": ["Id"],
          "target.fields": ["HomeId"]
        },
        "StageTeams": {
          "cardinality": "many",
          "target.entity": "StageTeams",
          "source.fields": ["Id"],
          "target.fields": ["TeamId"]
        },
        "TeamStaffs": {
          "cardinality": "many",
          "target.entity": "TeamStaffs",
          "source.fields": ["Id"],
          "target.fields": ["TeamId"]
        },
        "AwayFixtures": {
          "cardinality": "many",
          "target.entity": "Fixtures",
          "source.fields": ["Id"],
          "target.fields": ["AwayTeamId"]
        },
        "HomeFixtures": {
          "cardinality": "many",
          "target.entity": "Fixtures",
          "source.fields": ["Id"],
          "target.fields": ["HomeTeamId"]
        },
        "AssociationTeams": {
          "cardinality": "many",
          "target.entity": "AssociationTeams",
          "source.fields": ["Id"],
          "target.fields": ["TeamId"]
        },
        "TeamPlayers": {
          "cardinality": "many",
          "target.entity": "TeamPlayers",
          "source.fields": ["Id"],
          "target.fields": ["TeamId"]
        },
        "Associations": {
          "cardinality": "one",
          "target.entity": "Associations",
          "source.fields": ["AssociationId"],
          "target.fields": ["Id"]
        },
        "Clubs": {
          "cardinality": "one",
          "target.entity": "Clubs",
          "source.fields": ["ClubId"],
          "target.fields": ["Id"]
        },
        "Venues": {
          "cardinality": "one",
          "target.entity": "Venues",
          "source.fields": ["VenueId"],
          "target.fields": ["Id"]
        }
      }
    },
    "CompetitionSeasons": {
      "source": "[dbo].[CompetitionSeasons]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Competitions": {
          "cardinality": "one",
          "target.entity": "Competitions",
          "source.fields": ["CompetitionId"],
          "target.fields": ["Id"]
        },
        "Seasons": {
          "cardinality": "one",
          "target.entity": "Seasons",
          "source.fields": ["SeasonId"],
          "target.fields": ["Id"]
        },
        "Stages": {
          "cardinality": "many",
          "target.entity": "Stages",
          "source.fields": ["Id"],
          "target.fields": ["CompetitionSeasonId"]
        }
      }
    },
    "AssociationTeams": {
      "source": "[dbo].[AssociationTeams]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Associations": {
          "cardinality": "one",
          "target.entity": "Associations",
          "source.fields": ["AssociationId"],
          "target.fields": ["Id"]
        },
        "Teams": {
          "cardinality": "one",
          "target.entity": "Teams",
          "source.fields": ["TeamId"],
          "target.fields": ["Id"]
        }
      }
    },
    "TeamPlayers": {
      "source": "[dbo].[TeamPlayers]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Teams": {
          "cardinality": "one",
          "target.entity": "Teams",
          "source.fields": ["TeamId"],
          "target.fields": ["Id"]
        },
        "Users": {
          "cardinality": "one",
          "target.entity": "Users",
          "source.fields": ["UserId"],
          "target.fields": ["Id"]
        },
        "PlayerFixtureEvents": {
          "cardinality": "many",
          "target.entity": "FixtureEvents",
          "source.fields": ["Id"],
          "target.fields": ["PlayerId"]
        },
        "PlayerOffFixtureEvents": {
          "cardinality": "many",
          "target.entity": "FixtureEvents",
          "source.fields": ["Id"],
          "target.fields": ["PlayerOffId"]
        },
        "FixturePlayers": {
          "cardinality": "many",
          "target.entity": "FixturePlayers",
          "source.fields": ["Id"],
          "target.fields": ["TeamPlayerId"]
        }
      }
    },
    "TeamStaffs": {
      "source": "[dbo].[TeamStaffs]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "StaffTypes": {
          "cardinality": "one",
          "target.entity": "StaffTypes",
          "source.fields": ["StaffTypeId"],
          "target.fields": ["Id"]
        },
        "Teams": {
          "cardinality": "one",
          "target.entity": "Teams",
          "source.fields": ["TeamId"],
          "target.fields": ["Id"]
        },
        "Users": {
          "cardinality": "one",
          "target.entity": "Users",
          "source.fields": ["UserId"],
          "target.fields": ["Id"]
        },
        "FixtureEvents": {
          "cardinality": "many",
          "target.entity": "FixtureEvents",
          "source.fields": ["Id"],
          "target.fields": ["StaffId"]
        },
        "FixtureStaffs": {
          "cardinality": "many",
          "target.entity": "FixtureStaffs",
          "source.fields": ["Id"],
          "target.fields": ["TeamStaffId"]
        }
      }
    },
    "Stages": {
      "source": "[dbo].[Stages]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "CompetitionSeasons": {
          "cardinality": "one",
          "target.entity": "CompetitionSeasons",
          "source.fields": ["CompetitionSeasonId"],
          "target.fields": ["Id"]
        },
        "StageRulesets": {
          "cardinality": "one",
          "target.entity": "StageRulesets",
          "source.fields": ["StageRulesetId"],
          "target.fields": ["Id"]
        },
        "Fixtures": {
          "cardinality": "many",
          "target.entity": "Fixtures",
          "source.fields": ["Id"],
          "target.fields": ["StageId"]
        },
        "StageTeams": {
          "cardinality": "many",
          "target.entity": "StageTeams",
          "source.fields": ["Id"],
          "target.fields": ["StageId"]
        }
      }
    },
    "Fixtures": {
      "source": "[dbo].[Fixtures]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Stages": {
          "cardinality": "one",
          "target.entity": "Stages",
          "source.fields": ["StageId"],
          "target.fields": ["Id"]
        },
        "AwayTeams": {
          "cardinality": "one",
          "target.entity": "Teams",
          "source.fields": ["AwayTeamId"],
          "target.fields": ["Id"]
        },
        "HomeTeams": {
          "cardinality": "one",
          "target.entity": "Teams",
          "source.fields": ["HomeTeamId"],
          "target.fields": ["Id"]
        },
        "Venues": {
          "cardinality": "one",
          "target.entity": "Venues",
          "source.fields": ["VenueId"],
          "target.fields": ["Id"]
        },
        "FixtureOfficialAppointments": {
          "cardinality": "many",
          "target.entity": "FixtureOfficialAppointments",
          "source.fields": ["Id"],
          "target.fields": ["FixtureId"]
        },
        "FixtureEvents": {
          "cardinality": "many",
          "target.entity": "FixtureEvents",
          "source.fields": ["Id"],
          "target.fields": ["FixtureId"]
        },
        "FixturePlayers": {
          "cardinality": "many",
          "target.entity": "FixturePlayers",
          "source.fields": ["Id"],
          "target.fields": ["FixtureId"]
        },
        "FixtureStaffs": {
          "cardinality": "many",
          "target.entity": "FixtureStaffs",
          "source.fields": ["Id"],
          "target.fields": ["FixtureId"]
        },
        "TeamFixtureResults": {
          "cardinality": "many",
          "target.entity": "TeamFixtureResults",
          "source.fields": ["Id"],
          "target.fields": ["FixtureId"]
        }
      }
    },
    "StageTeams": {
      "source": "[dbo].[StageTeams]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Stages": {
          "cardinality": "one",
          "target.entity": "Stages",
          "source.fields": ["StageId"],
          "target.fields": ["Id"]
        },
        "Teams": {
          "cardinality": "one",
          "target.entity": "Teams",
          "source.fields": ["TeamId"],
          "target.fields": ["Id"]
        }
      }
    },
    "FixtureEvents": {
      "source": "[dbo].[FixtureEvents]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Fixtures": {
          "cardinality": "one",
          "target.entity": "Fixtures",
          "source.fields": ["FixtureId"],
          "target.fields": ["Id"]
        },
        "OffenceCodes": {
          "cardinality": "one",
          "target.entity": "OffenceCodes",
          "source.fields": ["OffenceCodeId"],
          "target.fields": ["Id"]
        },
        "Officials": {
          "cardinality": "one",
          "target.entity": "Officials",
          "source.fields": ["OfficialId"],
          "target.fields": ["Id"]
        },
        "PlayerTeamPlayers": {
          "cardinality": "one",
          "target.entity": "TeamPlayers",
          "source.fields": ["PlayerId"],
          "target.fields": ["Id"]
        },
        "PlayerOffTeamPlayers": {
          "cardinality": "one",
          "target.entity": "TeamPlayers",
          "source.fields": ["PlayerOffId"],
          "target.fields": ["Id"]
        },
        "TeamStaffs": {
          "cardinality": "one",
          "target.entity": "TeamStaffs",
          "source.fields": ["StaffId"],
          "target.fields": ["Id"]
        }
      }
    },
    "FixtureOfficialAppointments": {
      "source": "[dbo].[FixtureOfficialAppointments]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Fixtures": {
          "cardinality": "one",
          "target.entity": "Fixtures",
          "source.fields": ["FixtureId"],
          "target.fields": ["Id"]
        },
        "OfficialTypes": {
          "cardinality": "one",
          "target.entity": "OfficialTypes",
          "source.fields": ["OfficialTypeId"],
          "target.fields": ["Id"]
        },
        "Officials": {
          "cardinality": "one",
          "target.entity": "Officials",
          "source.fields": ["OfficialId"],
          "target.fields": ["Id"]
        }
      }
    },
    "FixturePlayers": {
      "source": "[dbo].[FixturePlayers]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Fixtures": {
          "cardinality": "one",
          "target.entity": "Fixtures",
          "source.fields": ["FixtureId"],
          "target.fields": ["Id"]
        },
        "TeamPlayers": {
          "cardinality": "one",
          "target.entity": "TeamPlayers",
          "source.fields": ["TeamPlayerId"],
          "target.fields": ["Id"]
        }
      }
    },
    "FixtureStaffs": {
      "source": "[dbo].[FixtureStaffs]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Fixtures": {
          "cardinality": "one",
          "target.entity": "Fixtures",
          "source.fields": ["FixtureId"],
          "target.fields": ["Id"]
        },
        "StaffTypes": {
          "cardinality": "one",
          "target.entity": "StaffTypes",
          "source.fields": ["StaffTypeId"],
          "target.fields": ["Id"]
        },
        "TeamStaffs": {
          "cardinality": "one",
          "target.entity": "TeamStaffs",
          "source.fields": ["TeamStaffId"],
          "target.fields": ["Id"]
        }
      }
    },
    "TeamFixtureResults": {
      "source": "[dbo].[TeamFixtureResults]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Fixtures": {
          "cardinality": "one",
          "target.entity": "Fixtures",
          "source.fields": ["FixtureId"],
          "target.fields": ["Id"]
        },
        "Officials": {
          "cardinality": "one",
          "target.entity": "Officials",
          "source.fields": ["RefereeId"],
          "target.fields": ["Id"]
        },
        "AwayTeams": {
          "cardinality": "one",
          "target.entity": "Teams",
          "source.fields": ["AwayId"],
          "target.fields": ["Id"]
        },
        "HomeTeams": {
          "cardinality": "one",
          "target.entity": "Teams",
          "source.fields": ["HomeId"],
          "target.fields": ["Id"]
        },
        "Venues": {
          "cardinality": "one",
          "target.entity": "Venues",
          "source.fields": ["VenueId"],
          "target.fields": ["Id"]
        }
      }
    },
    "AdjustmentTypes": {
      "source": "[dbo].[AdjustmentTypes]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {}
    },
    "AssociationStaffTypes": {
      "source": "[dbo].[AssociationStaffTypes]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "AssociationStaffs": {
          "cardinality": "many",
          "target.entity": "AssociationStaffs",
          "source.fields": ["Id"],
          "target.fields": ["AssociationStaffTypeId"]
        }
      }
    },
    "Clubs": {
      "source": "[dbo].[Clubs]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Teams": {
          "cardinality": "many",
          "target.entity": "Teams",
          "source.fields": ["Id"],
          "target.fields": ["ClubId"]
        }
      }
    },
    "CompetitionTypes": {
      "source": "[dbo].[CompetitionTypes]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "Competitions": {
          "cardinality": "many",
          "target.entity": "Competitions",
          "source.fields": ["Id"],
          "target.fields": ["CompetitionTypeId"]
        }
      }
    },
    "OffenceCodes": {
      "source": "[dbo].[OffenceCodes]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "FixtureEvents": {
          "cardinality": "many",
          "target.entity": "FixtureEvents",
          "source.fields": ["Id"],
          "target.fields": ["OffenceCodeId"]
        }
      }
    },
    "OfficialTypes": {
      "source": "[dbo].[OfficialTypes]",
      "permissions": [{ "role": "anonymous", "actions": [{ "action": "*" }] }],
      "relationships": {
        "FixtureOfficialAppointments": {
          "cardinality": "many",
          "target.entity": "FixtureOfficialAppointments",
          "source.fields": ["Id"],
          "target.fields": ["OfficialTypeId"]
        }
      }
    }
  }
}
